<!doctype html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Tata Consulting - Registro</title>
  <link rel="shortcut icon" type="image/png" href="../assets/images/logos/favicon.png"/>
  <link rel="stylesheet" href="/css/styles.min.css"/>
</head>

<body>
<!--  Body Wrapper -->
<div class="page-wrapper" id="main-wrapper" data-layout="vertical" data-navbarbg="skin6" data-sidebartype="full"
     data-sidebar-position="fixed" data-header-position="fixed">
  <!-- Sidebar Start -->
  <aside class="left-sidebar">
    <!-- Sidebar scroll-->
    <div>
      <div class="brand-logo d-flex align-items-center justify-content-between">
        <a href="#" class="logo-text d-flex align-items-center">
          <img src="/images/logos/login.jpg"  alt="Logo" class="me-2" style="height: 40px;">
          <span class="fs-3 fw-bold text-dark">TataConsulting</span>
        </a>
        <div class="close-btn d-xl-none d-block sidebartoggler cursor-pointer" id="sidebarCollapse">
          <i class="ti ti-x fs-8"></i>
        </div>
      </div>
      <!-- Sidebar navigation-->
      <nav class="sidebar-nav scroll-sidebar" data-simplebar="">
        <ul id="sidebarnav">
          <li class="nav-small-cap">
            <i class="ti ti-dots nav-small-cap-icon fs-4"></i>
            <span class="hide-menu">Home</span>
          </li>
          <li class="sidebar-item">
            <a class="sidebar-link" aria-expanded="false" th:href="@{/index}">
                                <span>
                                    <i class="ti ti-layout-dashboard"></i>
                                </span>
              <span class="hide-menu">Principal</span>
            </a>
          </li>
          <li class="nav-small-cap">
            <i class="ti ti-dots nav-small-cap-icon fs-4"></i>
            <span class="hide-menu">Componentes</span>
          </li>
          <li class="sidebar-item">
            <a class="sidebar-link" href="" aria-expanded="false" th:href="@{/certificados/add}">
                                <span>
                                    <i class="ti ti-article"></i>
                                </span>
              <span class="hide-menu">Nuevo Certificado</span>
            </a>
          </li>
          <li class="sidebar-item">
            <a class="sidebar-link" href="" aria-expanded="false" th:href="@{/register}">
                                <span>
                                    <i class="ti ti-article"></i>
                                </span>
              <span class="hide-menu">Crer nuevo Perfil</span>
            </a>
          </li>
        </ul>
      </nav>
      <!-- End Sidebar navigation -->
    </div>
    <!-- End Sidebar scroll-->
  </aside>
  <!--  Sidebar End -->
  <!--  Main wrapper -->
  <div class="body-wrapper">
    <!--  Header Start -->
    <header class="app-header">
      <nav class="navbar navbar-expand-lg navbar-light">
        <div class="navbar-collapse justify-content-end px-0" id="navbarNav">
          <ul class="navbar-nav flex-row ms-auto align-items-center justify-content-end">
            <li class="nav-item dropdown">
              <form th:action="@{/logout}" method="post" class="d-flex align-items-center">
                <button type="submit" class="btn btn-danger d-flex align-items-center">
                  <i class="ti ti-power fs-5 me-2"></i> Sign Out
                </button>
              </form>
            </li>
          </ul>
        </div>
      </nav>
    </header>
    <!--  Header End -->
    <div class="container-fluid">
      <!--  Form Start -->
      <div class="container mt-5">
        <h2>Registro</h2>

        <!-- Display success or error messages -->
        <div th:if="${param.registerSuccess}" class="alert alert-success">
          ¡Registro exitoso! Ahora puedes <a href="/login">iniciar sesión</a>.
        </div>

        <div th:if="${error}" class="alert alert-danger">
          Fallo en el registro: <span th:text="${error}"></span>
        </div>

        <form th:action="@{/register}" method="post">
          <div class="form-group">
            <label for="username">Nombre de usuario</label>
            <input type="text" id="username" name="username" class="form-control" placeholder="Ingresa nombre de usuario" required>
          </div>
          <br>
          <div class="form-group">
            <label for="password">Contraseña</label>
            <input type="password" id="password" name="password" class="form-control" placeholder="Ingresa contraseña" required>
          </div>
          <br>
          <div class="form-group">
            <label for="role">Rol</label>
            <select id="role" name="role" class="form-control" required>
              <option value="" disabled selected>Selecciona un rol</option>
              <option th:each="role : ${roles}" th:value="${role.id}" th:text="${role.name}"></option>
            </select>
          </div>
          <br>

          <button type="submit" class="btn btn-primary">Registrarse</button>
        </form>
      </div>
      <!--  Form End -->
    </div>
  </div>
</div>

<!-- Bootstrap JS and dependencies -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>

</html>
